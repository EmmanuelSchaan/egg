\documentclass[12pt,a4paper]{article}

\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{graphics,graphicx}
\usepackage{txfonts}
\usepackage{natbib}
\usepackage[svgnames]{xcolor}
\usepackage{xspace}
\usepackage[colorlinks=true,linkcolor=blue,linktoc=page]{hyperref}
\usepackage{etoolbox}
\usepackage{lastpage}
\usepackage{sidecap}
\usepackage{minted}
% \usepackage[cm]{fullpage}
\usepackage[a4paper,headsep=5pt,footskip=23pt]{geometry}

\makeatletter

% Patch case where name and year are separated by aysep
\patchcmd{\NAT@citex}
  {\@citea\NAT@hyper@{%
     \NAT@nmfmt{\NAT@nm}%
     \hyper@natlinkbreak{\NAT@aysep\NAT@spacechar}{\@citeb\@extra@b@citeb}%
     \NAT@date}}
  {\@citea\NAT@nmfmt{\NAT@nm}%
   \NAT@aysep\NAT@spacechar\NAT@hyper@{\NAT@date}}{}{}

% Patch case where name and year are separated by opening bracket
\patchcmd{\NAT@citex}
  {\@citea\NAT@hyper@{%
     \NAT@nmfmt{\NAT@nm}%
     \hyper@natlinkbreak{\NAT@spacechar\NAT@@open\if*#1*\else#1\NAT@spacechar\fi}%
       {\@citeb\@extra@b@citeb}%
     \NAT@date}}
  {\@citea\NAT@nmfmt{\NAT@nm}%
   \NAT@spacechar\NAT@@open\if*#1*\else#1\NAT@spacechar\fi\NAT@hyper@{\NAT@date}}
  {}{}

\makeatother


\newcommand{\phypp}{\textit{phy}$_{\text{++}}$\xspace}
\newcommand{\cpp}[1]{\texttt{#1}\xspace}
\newcommand{\stdvec}{\cppinline|std::vector|\xspace}
\newcommand{\egg}{\textsc{EGG}\xspace}
\newcommand{\skymaker}{\textit{SkyMaker}\xspace}
\newcommand{\sextractor}{\textit{SExtractor}\xspace}
\newcommand{\tphot}{\textit{T-PHOT}\xspace}
\newcommand{\bash}{\textit{bash}\xspace}

\newminted{cpp}{fontsize=\small}
\newmintinline{cpp}{fontsize=\small}
\newminted{bash}{fontsize=\small}
\newmintinline{bash}{fontsize=\small}
\newminted{idl}{fontsize=\small}
\newmintinline{idl}{fontsize=\small}
\newminted{python}{fontsize=\small}
\newmintinline{python}{fontsize=\small}

\newcommand{\anote}[2]{{\color{cyan}#1}: {\color{blue} #2}}
\newcommand{\rephrase}[1]{{\color{pink}Reformulate}: {\color{red}\it #1}}
\newcommand{\cneeded}{{\color{red}(citation needed)}\xspace}
\newcommand{\todo}[1]{{\color{teal}TODO: #1}\xspace}
\newcommand{\tabnote}[1]{$^{\rm #1}$\xspace}
\newcommand{\tabnotep}[1]{\tabnote{(#1)}\xspace}
\newcommand{\hlink}[1]{\url{http://#1}\xspace}
\newcommand{\changed}[1]{#1}

\newcommand{\rfig}[1]{Fig.~\ref{#1}}
\newcommand{\rfigs}[1]{Figs.~\ref{#1}}
\newcommand{\req}[1]{Eq.~\ref{#1}}
\newcommand{\reqs}[1]{Eqs.~\ref{#1}}
\newcommand{\rtab}[1]{Table \ref{#1}}
\newcommand{\rtabs}[1]{Tables \ref{#1}}
\newcommand{\rapp}[1]{Appendix \ref{#1}}
\newcommand{\rapps}[1]{Appendices \ref{#1}}
\newcommand{\rsec}[1]{subsection \ref{#1}}
\newcommand{\rsecs}[1]{sections \ref{#1}}
\newcommand{\rfnote}[1]{footnote \ref{#1}}
\newcommand{\rfnotes}[1]{footnotes \ref{#1}}

\newcommand{\via}{{\it via}\xspace}

\newcommand{\herschel}{{\it Herschel}\xspace}
\newcommand{\spitzer}{{\it Spitzer}\xspace}
\newcommand{\hubble}{{\it Hubble}\xspace}
\newcommand{\hst}{{\it HST}\xspace}
\newcommand{\jwst}{{\it JWST}\xspace}
\newcommand{\subaru}{{\it Subaru}\xspace}
\newcommand{\GALEX}{{\it GALEX}\xspace}

\newcommand{\um}{\mu{\rm m}}
\newcommand{\uJy}{\mu{\rm Jy}}
\newcommand{\mJy}{{\rm mJy}}
\newcommand{\mad}{{\rm MAD}}
\newcommand{\nmad}{{\rm NMAD}}
\newcommand{\median}[1]{\left<#1\right>}
\newcommand{\mean}[1]{\left<#1\right>}
\newcommand{\logd}{\log_{10}}
\newcommand{\sfr}{{\rm SFR}}
\newcommand{\sfruv}{{\rm SFR}_{\rm UV}}
\newcommand{\sfrir}{{\rm SFR}_{\rm IR}}
\newcommand{\sfrms}{{\rm SFR}_{\rm MS}}
\newcommand{\ssfr}{{\rm sSFR}}
\newcommand{\lir}{L_{\rm IR}}
\newcommand{\lfir}{L_{\rm FIR}}
\newcommand{\irx}{\rm IRX}
\newcommand{\leight}{L_8}
\newcommand{\ireight}{{\rm IR8}}
\newcommand{\cplus}{[\ion{C}{II}]}
\newcommand{\luv}{L_{\rm UV}}
\newcommand{\lsun}{L_\odot}
\newcommand{\msun}{{\rm M}_\odot}
\newcommand{\mdense}{{\rm M}_{\rm dense}}
\newcommand{\mgas}{{\rm M}_{\rm gas}}
\newcommand{\mhalo}{{\rm M}_{\rm halo}}
\newcommand{\fgas}{f_{\rm gas}}
\newcommand{\Mpc}{{\rm Mpc}}
\newcommand{\Gyr}{{\rm Gyr}}
\newcommand{\Myr}{{\rm Myr}}
\newcommand{\yr}{{\rm yr}}
\newcommand{\dex}{{\rm dex}}
\newcommand{\mstar}{M_\ast}
\newcommand{\snr}{{\rm SNR}}
\newcommand{\snu}{S_{\!\nu}}
\newcommand{\tdust}{T_{\rm dust}}
\newcommand{\rhosfr}{\rho_{\sfr}}
\newcommand{\rhostar}{\rho_{\ast}}
\newcommand{\rsb}{R_{\rm SB}}
\newcommand{\uvj}{$UVJ$\xspace}
\newcommand{\bzk}{$BzK$\xspace}
\newcommand{\bt}{B/T}
\newcommand{\rdisk}{R_{\rm disk}}
\newcommand{\rbulge}{R_{\rm bulge}}
\newcommand{\sersic}{S\'ersic\xspace}

\newcommand{\halpha}{${\rm H}_\alpha$\xspace}
\newcommand{\Ks}{$K_{\rm s}$\xspace}
\newcommand{\celib}{CE01\xspace}
\newcommand{\galfit}{{\sc Galfit}\xspace}

\newcommand\efp{%
  \newgeometry{left=1.8cm,bottom=2.0cm,right=1.8cm,top=1.8cm} %
  \resetHeadWidth %
  \renewcommand{\headrulewidth}{0.4pt} %
  \noindent %
}

\makeatletter
\newcommand{\resetHeadWidth}{\fancy@setoffs}
\makeatother

% Alter some LaTeX defaults for better treatment of figures:
% See p.105 of "TeX Unbound" for suggested values.
% See pp. 199-200 of Lamport's "LaTeX" book for details.
%   General parameters, for ALL pages:
\renewcommand{\topfraction}{0.95}  % max fraction of floats at top
\renewcommand{\bottomfraction}{0.8} % max fraction of floats at bottom
%   Parameters for TEXT pages (not float pages):
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}     % 2 may work better
\setcounter{dbltopnumber}{2}    % for 2-column pages
\renewcommand{\dbltopfraction}{0.9} % fit big float above 2-col. text
\renewcommand{\textfraction}{0.07}  % allow minimal text w. figs
%   Parameters for FLOAT pages (not text pages):
\renewcommand{\floatpagefraction}{0.9}  % require fuller float pages
% N.B.: floatpagefraction MUST be less than topfraction !!
\renewcommand{\dblfloatpagefraction}{0.9} % require fuller float pages

\begin{document}
\newgeometry{left=1.8cm,bottom=2.0cm,right=1.8cm,top=1.8cm}
\sloppy

\begin{center}
{\huge Generating mock catalogs and images \\[0.1cm] with \egg:} {\Large the Empirical Galaxy Generator}
\end{center}
~\\

\tableofcontents

\section{Installing \egg}

\input{doc-install}

\section{Using \egg}

\input{doc-egg-generic}

\subsection{\bashinline{egg-gencat}}

\input{doc-egg-gencat}

\subsection{\bashinline{egg-2skymaker}}

\input{doc-egg-2skymaker}

\subsection{\bashinline{egg-gennoise} and \bashinline{egg-genmap}}

\input{doc-egg-gennoise}

\end{document}

